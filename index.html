<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Java Code Editor</title>
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#007acc">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="./styles.css?v=3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Simple Textarea Editor (fallback) -->
    <style>
        #editor {
            width: 100%;
            height: 100%;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            padding: 10px 10px 10px 50px;
            border: none;
            outline: none;
            resize: none;
            line-height: 1.6;
            tab-size: 4;
        }
        
        .editor-container {
            position: relative;
            background: #1e1e1e;
        }
        
        .editor-container::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #252526;
            border-right: 1px solid #3e3e42;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="overlay" id="overlay"></div>
        
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>
                    <svg width="24" height="24" viewBox="0 0 300 550" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#5382a1" d="M102.681 291.324s-14.178 8.245 10.09 11.035c29.4 3.354 44.426 2.873 76.825-3.259 0 0 8.518 5.341 20.414 9.967-72.63 31.128-164.376-1.803-107.329-17.743M93.806 250.704s-15.902 11.771 8.384 14.283c31.406 3.24 56.208 3.505 99.125-4.759 0 0 5.936 6.018 15.27 9.309-87.815 25.678-185.624 2.025-122.779-18.833"/>
                        <path fill="#e76f00" d="M168.625 181.799c17.896 20.604-4.701 39.146-4.701 39.146s45.439-23.458 24.571-52.833c-19.491-27.394-34.438-41.005 46.479-87.934 0-.001-127.013 31.721-66.349 101.621"/>
                        <path fill="#5382a1" d="M264.684 321.369s10.492 8.645-11.555 15.333c-41.923 12.7-174.488 16.535-211.314.507-13.238-5.759 11.587-13.751 19.396-15.428 8.144-1.766 12.798-1.437 12.798-1.437-14.722-10.371-95.157 20.364-40.857 29.166 148.084 24.015 269.944-10.814 231.532-28.141M109.499 208.617s-67.431 16.016-23.879 21.832c18.389 2.462 55.047 1.905 89.193-.956 27.906-2.354 55.927-7.359 55.927-7.359s-9.84 4.214-16.959 9.075c-68.475 18.009-200.756 9.631-162.674-8.79 32.206-15.568 58.392-13.802 58.392-13.802M235.621 276.231c69.608-36.171 37.424-70.931 14.96-66.248-5.506 1.146-7.961 2.139-7.961 2.139s2.044-3.202 5.948-4.588c44.441-15.624 78.619 46.081-14.346 70.521 0 0 1.074-.962 1.399-1.824"/>
                        <path fill="#e76f00" d="M188.462 4.399s38.521 38.544-36.541 97.68c-60.238 47.514-13.743 74.635-.039 105.634-35.161-31.722-60.961-59.647-43.651-85.637 25.407-38.151 95.793-56.648 80.231-117.677"/>
                        <path fill="#5382a1" d="M116.593 374.394c66.815 4.277 169.417-2.373 171.847-33.988 0 0-4.671 11.985-55.219 21.503-57.027 10.731-127.364 9.479-169.081 2.601.002-.002 8.541 7.067 52.453 9.884"/>
                    </svg>
                    Java Editor
                </h2>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-actions">
                <button class="btn-primary" id="newProject">
                    <i class="fas fa-folder-plus"></i> New Project
                </button>
                <button class="btn-primary" id="newFile">
                    <i class="fas fa-file-plus"></i> New File
                </button>
            </div>

            <div class="files-section">
                <h3>Standalone Files</h3>
                <div id="standaloneFilesList" class="files-list"></div>
            </div>

            <div class="projects-section">
                <h3>Projects</h3>
                <div id="projectsList" class="projects-list"></div>
            </div>

            <div class="sidebar-footer">
                <a href="https://linkedin.com/in/hariomsonihs" target="_blank" class="creator-link">
                    Made with <i class="fas fa-heart"></i> by Hariom Soni
                </a>
            </div>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <button class="menu-btn" id="menuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="file-info">
                    <span id="currentFileName">Untitled.java</span>
                    <span class="save-indicator" id="saveIndicator">
                        <i class="fas fa-check-circle"></i> Saved
                    </span>
                </div>
                <div class="top-actions">
                    <button class="icon-btn" id="runCode" title="Run Code">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="icon-btn" id="downloadCode" title="Download">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="icon-btn" id="settingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
                
                <!-- Mobile Header -->
                <div class="mobile-header">
                    <div class="mobile-row-1">
                        <button class="menu-btn" id="menuBtnMobile">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="app-title-mobile">
                            <svg width="18" height="18" viewBox="0 0 300 550" xmlns="http://www.w3.org/2000/svg">
                                <path fill="#5382a1" d="M102.681 291.324s-14.178 8.245 10.09 11.035c29.4 3.354 44.426 2.873 76.825-3.259 0 0 8.518 5.341 20.414 9.967-72.63 31.128-164.376-1.803-107.329-17.743M93.806 250.704s-15.902 11.771 8.384 14.283c31.406 3.24 56.208 3.505 99.125-4.759 0 0 5.936 6.018 15.27 9.309-87.815 25.678-185.624 2.025-122.779-18.833"/>
                                <path fill="#e76f00" d="M168.625 181.799c17.896 20.604-4.701 39.146-4.701 39.146s45.439-23.458 24.571-52.833c-19.491-27.394-34.438-41.005 46.479-87.934 0-.001-127.013 31.721-66.349 101.621"/>
                                <path fill="#5382a1" d="M264.684 321.369s10.492 8.645-11.555 15.333c-41.923 12.7-174.488 16.535-211.314.507-13.238-5.759 11.587-13.751 19.396-15.428 8.144-1.766 12.798-1.437 12.798-1.437-14.722-10.371-95.157 20.364-40.857 29.166 148.084 24.015 269.944-10.814 231.532-28.141M109.499 208.617s-67.431 16.016-23.879 21.832c18.389 2.462 55.047 1.905 89.193-.956 27.906-2.354 55.927-7.359 55.927-7.359s-9.84 4.214-16.959 9.075c-68.475 18.009-200.756 9.631-162.674-8.79 32.206-15.568 58.392-13.802 58.392-13.802M235.621 276.231c69.608-36.171 37.424-70.931 14.96-66.248-5.506 1.146-7.961 2.139-7.961 2.139s2.044-3.202 5.948-4.588c44.441-15.624 78.619 46.081-14.346 70.521 0 0 1.074-.962 1.399-1.824"/>
                                <path fill="#e76f00" d="M188.462 4.399s38.521 38.544-36.541 97.68c-60.238 47.514-13.743 74.635-.039 105.634-35.161-31.722-60.961-59.647-43.651-85.637 25.407-38.151 95.793-56.648 80.231-117.677"/>
                                <path fill="#5382a1" d="M116.593 374.394c66.815 4.277 169.417-2.373 171.847-33.988 0 0-4.671 11.985-55.219 21.503-57.027 10.731-127.364 9.479-169.081 2.601.002-.002 8.541 7.067 52.453 9.884"/>
                            </svg>
                            <span>Java Editor</span>
                        </div>
                        <button class="icon-btn" id="settingsBtnMobile" title="Settings">
                            <i class="fas fa-cog"></i>
                        </button>
                    </div>
                    <div class="mobile-row-2">
                        <span id="currentFileNameMobile">Untitled.java</span>
                        <button class="run-btn-mobile" id="runCodeMobile" title="Run Code">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                </div>
            </header>

            <div class="editor-container">
                <textarea id="editor" spellcheck="false"></textarea>
            </div>

            <div class="output-panel" id="outputPanel">
                <div class="resize-handle" id="resizeHandle">
                    <div class="resize-bar"></div>
                </div>
                <div class="output-header">
                    <h4><i class="fas fa-terminal"></i> Console</h4>
                    <button class="icon-btn" id="clearConsole" title="Clear">
                        <i class="fas fa-eraser"></i>
                    </button>
                    <button class="icon-btn" id="closeOutput">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="output-content" id="outputContent"></div>
                <div class="console-input-area" id="consoleInputArea" style="display: none;">
                    <input type="text" id="consoleInput" class="console-input" placeholder="Enter input..." autocomplete="off">
                    <button type="button" class="btn-primary" id="submitInput">Submit</button>
                </div>
            </div>
        </main>

        <nav class="bottom-nav">
            <div class="bottom-nav-items">
                <button class="nav-item active" data-action="editor">
                    <i class="fas fa-code"></i>
                    <span>Editor</span>
                </button>
                <button class="nav-item" data-action="files">
                    <i class="fas fa-folder"></i>
                    <span>Files</span>
                </button>
                <button class="nav-item" data-action="run">
                    <i class="fas fa-play"></i>
                    <span>Run</span>
                </button>
                <button class="nav-item" data-action="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
            </div>
            <div class="bottom-nav-footer">
                Built by <a href="https://linkedin.com/in/hariomsonihs" target="_blank">Hariom Soni</a>
            </div>
        </nav>
    </div>

    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Project</h3>
                <button class="close-modal" data-modal="projectModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" id="projectName" placeholder="Project Name" class="input-field">
                <button class="btn-primary" id="createProject">Create</button>
            </div>
        </div>
    </div>

    <div class="modal" id="fileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New File</h3>
                <button class="close-modal" data-modal="fileModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" id="fileName" placeholder="FileName.java" class="input-field">
                <button class="btn-primary" id="createFile">Create</button>
            </div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="close-modal" data-modal="settingsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <label>Theme</label>
                    <select id="themeSelect" class="input-field">
                        <option value="vs-dark">Dark</option>
                        <option value="vs-light">Light</option>
                        <option value="hc-black">High Contrast</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Font Size</label>
                    <input type="number" id="fontSize" value="14" min="10" max="30" class="input-field">
                </div>
                <div class="setting-item">
                    <label>Font Family</label>
                    <select id="fontFamily" class="input-field">
                        <option value="Consolas">Consolas</option>
                        <option value="Monaco">Monaco</option>
                        <option value="Courier New">Courier New</option>
                        <option value="monospace">Monospace</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Tab Size</label>
                    <select id="tabSize" class="input-field">
                        <option value="2">2 Spaces</option>
                        <option value="4" selected>4 Spaces</option>
                        <option value="8">8 Spaces</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Line Height</label>
                    <input type="number" id="lineHeight" value="1.6" min="1" max="3" step="0.1" class="input-field">
                </div>
                <div class="setting-item">
                    <label>Auto Save</label>
                    <input type="checkbox" id="autoSave" checked>
                </div>
                <div class="setting-item">
                    <label>Word Wrap</label>
                    <input type="checkbox" id="wordWrap">
                </div>
                <div class="setting-item">
                    <label>Show Line Numbers</label>
                    <input type="checkbox" id="showLineNumbers" checked>
                </div>
            </div>
        </div>
    </div>

    <script src="./file-manager.js?v=3"></script>
    <script src="./app.js?v=9"></script>
</body>
</html>
