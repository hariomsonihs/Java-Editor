<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Java Code Editor</title>
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#007acc">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="./styles.css?v=3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Simple Textarea Editor (fallback) -->
    <style>
        #editor {
            width: 100%;
            height: 100%;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            padding: 10px 10px 10px 50px;
            border: none;
            outline: none;
            resize: none;
            line-height: 1.6;
            tab-size: 4;
        }
        
        .editor-container {
            position: relative;
            background: #1e1e1e;
        }
        
        .editor-container::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #252526;
            border-right: 1px solid #3e3e42;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="overlay" id="overlay"></div>
        
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>
                    <img src="logo.jpeg" alt="Logo" style="width: 24px; height: 24px; object-fit: cover; border-radius: 50%;">
                    Java Editor
                </h2>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-actions">
                <button class="btn-primary" id="newProject">
                    <i class="fas fa-folder-plus"></i> New Project
                </button>
                <button class="btn-primary" id="newFile">
                    <i class="fas fa-file-plus"></i> New File
                </button>
            </div>

            <div class="files-section">
                <h3>Standalone Files</h3>
                <div id="standaloneFilesList" class="files-list"></div>
            </div>

            <div class="projects-section">
                <h3>Projects</h3>
                <div id="projectsList" class="projects-list"></div>
            </div>

            <div class="sidebar-footer">
                <a href="https://linkedin.com/in/hariomsonihs" target="_blank" class="creator-link">
                    Made with <i class="fas fa-heart"></i> by Hariom Soni
                </a>
            </div>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <button class="menu-btn" id="menuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="file-info">
                    <span id="currentFileName">Untitled.java</span>
                    <span class="save-indicator" id="saveIndicator">
                        <i class="fas fa-check-circle"></i> Saved
                    </span>
                </div>
                <div class="top-actions">
                    <button class="icon-btn" id="runCode" title="Run Code">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="icon-btn" id="downloadCode" title="Download">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="icon-btn" id="settingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
                
                <!-- Mobile Header -->
                <div class="mobile-header">
                    <div class="mobile-row-1">
                        <button class="menu-btn" id="menuBtnMobile">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="app-title-mobile">
                            <img src="logo.jpeg" alt="Logo" style="width: 28px; height: 28px; object-fit: cover; border-radius: 50%;">
                            <span style="font-size: 18px; font-weight: 600;">Java Editor</span>
                        </div>
                        <button class="icon-btn" id="refreshBtnMobile" title="Refresh">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="mobile-row-2">
                        <span id="currentFileNameMobile">Untitled.java</span>
                        <button class="run-btn-mobile" id="runCodeMobile" title="Run Code">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                </div>
            </header>

            <div class="editor-container">
                <textarea id="editor" spellcheck="false"></textarea>
            </div>

            <div class="output-panel" id="outputPanel">
                <div class="resize-handle" id="resizeHandle">
                    <div class="resize-bar"></div>
                </div>
                <div class="output-header">
                    <h4><i class="fas fa-terminal"></i> Console</h4>
                    <button class="icon-btn" id="clearConsole" title="Clear">
                        <i class="fas fa-eraser"></i>
                    </button>
                    <button class="icon-btn" id="closeOutput">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="output-content" id="outputContent"></div>
                <div class="console-input-area" id="consoleInputArea" style="display: none;">
                    <input type="text" id="consoleInput" class="console-input" placeholder="Enter input..." autocomplete="off">
                    <button type="button" class="btn-primary" id="submitInput">Submit</button>
                </div>
            </div>
        </main>

        <nav class="bottom-nav">
            <div class="bottom-nav-items">
                <button class="nav-item active" data-action="editor">
                    <i class="fas fa-code"></i>
                    <span>Editor</span>
                </button>
                <button class="nav-item" data-action="files">
                    <i class="fas fa-folder"></i>
                    <span>Files</span>
                </button>
                <button class="nav-item" data-action="run">
                    <i class="fas fa-play"></i>
                    <span>Run</span>
                </button>
                <button class="nav-item" data-action="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
            </div>
            <div class="bottom-nav-footer">
                Built by <a href="https://linkedin.com/in/hariomsonihs" target="_blank">Hariom Soni</a>
            </div>
        </nav>
    </div>

    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Project</h3>
                <button class="close-modal" data-modal="projectModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" id="projectName" placeholder="Project Name" class="input-field">
                <button class="btn-primary" id="createProject">Create</button>
            </div>
        </div>
    </div>

    <div class="modal" id="fileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New File</h3>
                <button class="close-modal" data-modal="fileModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" id="fileName" placeholder="FileName.java" class="input-field">
                <button class="btn-primary" id="createFile">Create</button>
            </div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="close-modal" data-modal="settingsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <label>Theme</label>
                    <select id="themeSelect" class="input-field">
                        <option value="vs-dark">Dark</option>
                        <option value="vs-light">Light</option>
                        <option value="hc-black">High Contrast</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Font Size</label>
                    <input type="number" id="fontSize" value="14" min="10" max="30" class="input-field">
                </div>
                <div class="setting-item">
                    <label>Font Family</label>
                    <select id="fontFamily" class="input-field">
                        <option value="Consolas">Consolas</option>
                        <option value="Monaco">Monaco</option>
                        <option value="Courier New">Courier New</option>
                        <option value="monospace">Monospace</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Tab Size</label>
                    <select id="tabSize" class="input-field">
                        <option value="2">2 Spaces</option>
                        <option value="4" selected>4 Spaces</option>
                        <option value="8">8 Spaces</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Line Height</label>
                    <input type="number" id="lineHeight" value="1.6" min="1" max="3" step="0.1" class="input-field">
                </div>
                <div class="setting-item">
                    <label>Auto Save</label>
                    <input type="checkbox" id="autoSave" checked>
                </div>
                <div class="setting-item">
                    <label>Word Wrap</label>
                    <input type="checkbox" id="wordWrap">
                </div>
                <div class="setting-item">
                    <label>Show Line Numbers</label>
                    <input type="checkbox" id="showLineNumbers" checked>
                </div>
            </div>
        </div>
    </div>

    <script src="./file-manager.js?v=3"></script>
    <script src="./app.js?v=9"></script>
</body>
</html>
